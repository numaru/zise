const ve=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const i of c.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerpolicy&&(c.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?c.credentials="include":l.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}};ve();function R(){}function pe(t){return t()}function ee(){return Object.create(null)}function C(t){t.forEach(pe)}function we(t){return typeof t=="function"}function I(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function $e(t){return Object.keys(t).length===0}function m(t,e){t.appendChild(e)}function v(t,e,n){t.insertBefore(e,n||null)}function b(t){t.parentNode.removeChild(t)}function j(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function g(t){return document.createElement(t)}function x(t){return document.createTextNode(t)}function k(){return x(" ")}function W(){return x("")}function _e(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function ke(t){return function(e){return e.preventDefault(),t.call(this,e)}}function Ee(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function E(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Te(t){return Array.from(t.childNodes)}function F(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function ze(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const l=document.createEvent("CustomEvent");return l.initCustomEvent(t,n,r,e),l}let S;function K(t){S=t}function xe(){if(!S)throw new Error("Function called outside component initialization");return S}function me(){const t=xe();return(e,n,{cancelable:r=!1}={})=>{const l=t.$$.callbacks[e];if(l){const c=ze(e,n,{cancelable:r});return l.slice().forEach(i=>{i.call(t,c)}),!c.defaultPrevented}return!0}}function L(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(r=>r.call(this,e))}const N=[],te=[],B=[],ne=[],Ne=Promise.resolve();let J=!1;function Ke(){J||(J=!0,Ne.then(ge))}function U(t){B.push(t)}const H=new Set;let P=0;function ge(){const t=S;do{for(;P<N.length;){const e=N[P];P++,K(e),Le(e.$$)}for(K(null),N.length=0,P=0;te.length;)te.pop()();for(let e=0;e<B.length;e+=1){const n=B[e];H.has(n)||(H.add(n),n())}B.length=0}while(N.length);for(;ne.length;)ne.pop()();J=!1,H.clear(),K(t)}function Le(t){if(t.fragment!==null){t.update(),C(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(U)}}const M=new Set;let T;function Q(){T={r:0,c:[],p:T}}function V(){T.r||C(T.c),T=T.p}function y(t,e){t&&t.i&&(M.delete(t),t.i(e))}function $(t,e,n,r){if(t&&t.o){if(M.has(t))return;M.add(t),T.c.push(()=>{M.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function D(t){t&&t.c()}function A(t,e,n,r){const{fragment:l,on_mount:c,on_destroy:i,after_update:o}=t.$$;l&&l.m(e,n),r||U(()=>{const s=c.map(pe).filter(we);i?i.push(...s):C(s),t.$$.on_mount=[]}),o.forEach(U)}function O(t,e){const n=t.$$;n.fragment!==null&&(C(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Se(t,e){t.$$.dirty[0]===-1&&(N.push(t),Ke(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function G(t,e,n,r,l,c,i,o=[-1]){const s=S;K(t);const f=t.$$={fragment:null,ctx:null,props:c,update:R,not_equal:l,bound:ee(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:ee(),dirty:o,skip_bound:!1,root:e.target||s.$$.root};i&&i(f.root);let p=!1;if(f.ctx=n?n(t,e.props||{},(a,_,...u)=>{const d=u.length?u[0]:_;return f.ctx&&l(f.ctx[a],f.ctx[a]=d)&&(!f.skip_bound&&f.bound[a]&&f.bound[a](d),p&&Se(t,a)),_}):[],f.update(),p=!0,C(f.before_update),f.fragment=r?r(f.ctx):!1,e.target){if(e.hydrate){const a=Te(e.target);f.fragment&&f.fragment.l(a),a.forEach(b)}else f.fragment&&f.fragment.c();e.intro&&y(t.$$.fragment),A(t,e.target,e.anchor,e.customElement),ge()}K(s)}class q{$destroy(){O(this,1),this.$destroy=R}$on(e,n){const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const l=r.indexOf(n);l!==-1&&r.splice(l,1)}}$set(e){this.$$set&&!$e(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Ae(t){const e=t.split(`
`).filter(l=>l).map(l=>l.trim().split(/\s/));let n=e.find(l=>l.length>5);if(n)throw`A line has too much tokens '${n}'`;console.log(t),console.log(e);const r=e.map(l=>({name:l[0],type:l[1],address:l[2]?Number.parseInt(l[2],16):void 0,size:l[3]?Number.parseInt(l[3],16):void 0,location:l[4]}));if(n=r.find(l=>l.type==null||l.type.length>1),n)throw`A invalid symbol type as been found '${JSON.stringify(n)}'`;return r}function le(t){let e,n;return{c(){e=g("div"),n=x(t[0])},m(r,l){v(r,e,l),m(e,n)},p(r,l){l&1&&F(n,r[0])},d(r){r&&b(e)}}}function Oe(t){let e,n,r,l,c,i=t[0]&&le(t);return{c(){e=g("textarea"),n=k(),i&&i.c(),r=W()},m(o,s){v(o,e,s),v(o,n,s),i&&i.m(o,s),v(o,r,s),l||(c=_e(e,"input",t[1]),l=!0)},p(o,[s]){o[0]?i?i.p(o,s):(i=le(o),i.c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null)},i:R,o:R,d(o){o&&b(e),o&&b(n),i&&i.d(o),o&&b(r),l=!1,c()}}}function Ce(t,e,n){let r=null;const l=me();function c(i){n(0,r=null);try{const o=Ae(i.target.value);l("file-loaded",o)}catch(o){n(0,r=o)}}return[r,c]}class Pe extends q{constructor(e){super(),G(this,e,Ce,Oe,I,{})}}function re(t,e,n){const r=t.slice();return r[11]=e[n],r}function oe(t,e,n){const r=t.slice();return r[14]=e[n],r}function ie(t){let e,n=t[4]?"-":"+",r,l,c;return{c(){e=g("button"),r=x(n),E(e,"type","button"),E(e,"style",t[5])},m(i,o){v(i,e,o),m(e,r),l||(c=_e(e,"click",Ee(ke(t[6]))),l=!0)},p(i,o){o&16&&n!==(n=i[4]?"-":"+")&&F(r,n),o&32&&E(e,"style",i[5])},d(i){i&&b(e),l=!1,c()}}}function se(t){let e,n,r,l=t[0].data[t[14].field]+"",c,i,o=t[14].expander&&ie(t);return{c(){e=g("td"),o&&o.c(),n=k(),r=g("span"),c=x(l),i=k(),E(e,"class","svelte-1s1nmuf")},m(s,f){v(s,e,f),o&&o.m(e,null),m(e,n),m(e,r),m(r,c),m(e,i)},p(s,f){s[14].expander?o?o.p(s,f):(o=ie(s),o.c(),o.m(e,n)):o&&(o.d(1),o=null),f&3&&l!==(l=s[0].data[s[14].field]+"")&&F(c,l)},d(s){s&&b(e),o&&o.d()}}}function ce(t){let e,n,r=t[0].children,l=[];for(let i=0;i<r.length;i+=1)l[i]=fe(re(t,r,i));const c=i=>$(l[i],1,1,()=>{l[i]=null});return{c(){for(let i=0;i<l.length;i+=1)l[i].c();e=W()},m(i,o){for(let s=0;s<l.length;s+=1)l[s].m(i,o);v(i,e,o),n=!0},p(i,o){if(o&15){r=i[0].children;let s;for(s=0;s<r.length;s+=1){const f=re(i,r,s);l[s]?(l[s].p(f,o),y(l[s],1)):(l[s]=fe(f),l[s].c(),y(l[s],1),l[s].m(e.parentNode,e))}for(Q(),s=r.length;s<l.length;s+=1)c(s);V()}},i(i){if(!n){for(let o=0;o<r.length;o+=1)y(l[o]);n=!0}},o(i){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)$(l[o]);n=!1},d(i){j(l,i),i&&b(e)}}}function fe(t){let e,n;return e=new be({props:{node:t[11],columns:t[1],expandedKeys:t[2],level:t[3]+1}}),e.$on("toogle",t[7]),e.$on("expand",t[8]),e.$on("collapse",t[9]),{c(){D(e.$$.fragment)},m(r,l){A(e,r,l),n=!0},p(r,l){const c={};l&1&&(c.node=r[11]),l&2&&(c.columns=r[1]),l&4&&(c.expandedKeys=r[2]),l&8&&(c.level=r[3]+1),e.$set(c)},i(r){n||(y(e.$$.fragment,r),n=!0)},o(r){$(e.$$.fragment,r),n=!1},d(r){O(e,r)}}}function Be(t){let e,n,r,l,c=t[1],i=[];for(let s=0;s<c.length;s+=1)i[s]=se(oe(t,c,s));let o=t[4]&&t[0].children&&ce(t);return{c(){e=g("tr");for(let s=0;s<i.length;s+=1)i[s].c();n=k(),o&&o.c(),r=W()},m(s,f){v(s,e,f);for(let p=0;p<i.length;p+=1)i[p].m(e,null);v(s,n,f),o&&o.m(s,f),v(s,r,f),l=!0},p(s,[f]){if(f&115){c=s[1];let p;for(p=0;p<c.length;p+=1){const a=oe(s,c,p);i[p]?i[p].p(a,f):(i[p]=se(a),i[p].c(),i[p].m(e,null))}for(;p<i.length;p+=1)i[p].d(1);i.length=c.length}s[4]&&s[0].children?o?(o.p(s,f),f&17&&y(o,1)):(o=ce(s),o.c(),y(o,1),o.m(r.parentNode,r)):o&&(Q(),$(o,1,1,()=>{o=null}),V())},i(s){l||(y(o),l=!0)},o(s){$(o),l=!1},d(s){s&&b(e),j(i,s),s&&b(n),o&&o.d(s),s&&b(r)}}}function Me(t,e,n){let r,l,{node:c}=e,{columns:i}=e,{expandedKeys:o}=e,{level:s=0}=e;const f=me();function p(){if(r){let h={...o};delete h[c.key],f("toogle",h),f("expand",c);return}let d=o?{...o}:{};d[c.key]=!0,f("toogle",d),f("collapse",c)}function a(d){L.call(this,t,d)}function _(d){L.call(this,t,d)}function u(d){L.call(this,t,d)}return t.$$set=d=>{"node"in d&&n(0,c=d.node),"columns"in d&&n(1,i=d.columns),"expandedKeys"in d&&n(2,o=d.expandedKeys),"level"in d&&n(3,s=d.level)},t.$$.update=()=>{t.$$.dirty&5&&n(4,r=o?o[c.key]!==void 0:!1),t.$$.dirty&9&&n(5,l=`margin-left: ${s*16}px; visibility: ${c.children&&c.children.length?"visible":"hidden"};`)},[c,i,o,s,r,l,p,a,_,u]}class be extends q{constructor(e){super(),G(this,e,Me,Be,I,{node:0,columns:1,expandedKeys:2,level:3})}}function ue(t,e,n){const r=t.slice();return r[6]=e[n],r}function ae(t,e,n){const r=t.slice();return r[9]=e[n],r}function de(t){let e,n=t[9].header+"",r;return{c(){e=g("th"),r=x(n),E(e,"class","svelte-dvwp5e")},m(l,c){v(l,e,c),m(e,r)},p(l,c){c&2&&n!==(n=l[9].header+"")&&F(r,n)},d(l){l&&b(e)}}}function he(t){let e,n;return e=new be({props:{node:t[6],columns:t[1],expandedKeys:t[2]}}),e.$on("toogle",t[3]),e.$on("expand",t[4]),e.$on("collapse",t[5]),{c(){D(e.$$.fragment)},m(r,l){A(e,r,l),n=!0},p(r,l){const c={};l&1&&(c.node=r[6]),l&2&&(c.columns=r[1]),l&4&&(c.expandedKeys=r[2]),e.$set(c)},i(r){n||(y(e.$$.fragment,r),n=!0)},o(r){$(e.$$.fragment,r),n=!1},d(r){O(e,r)}}}function Re(t){let e,n,r,l,c,i,o,s=t[1],f=[];for(let u=0;u<s.length;u+=1)f[u]=de(ae(t,s,u));let p=t[0],a=[];for(let u=0;u<p.length;u+=1)a[u]=he(ue(t,p,u));const _=u=>$(a[u],1,1,()=>{a[u]=null});return{c(){e=g("div"),n=g("table"),r=g("thead"),l=g("tr");for(let u=0;u<f.length;u+=1)f[u].c();c=k(),i=g("tbody");for(let u=0;u<a.length;u+=1)a[u].c();E(n,"class","svelte-dvwp5e"),E(e,"class","wrapper svelte-dvwp5e")},m(u,d){v(u,e,d),m(e,n),m(n,r),m(r,l);for(let h=0;h<f.length;h+=1)f[h].m(l,null);m(n,c),m(n,i);for(let h=0;h<a.length;h+=1)a[h].m(i,null);o=!0},p(u,[d]){if(d&2){s=u[1];let h;for(h=0;h<s.length;h+=1){const w=ae(u,s,h);f[h]?f[h].p(w,d):(f[h]=de(w),f[h].c(),f[h].m(l,null))}for(;h<f.length;h+=1)f[h].d(1);f.length=s.length}if(d&15){p=u[0];let h;for(h=0;h<p.length;h+=1){const w=ue(u,p,h);a[h]?(a[h].p(w,d),y(a[h],1)):(a[h]=he(w),a[h].c(),y(a[h],1),a[h].m(i,null))}for(Q(),h=p.length;h<a.length;h+=1)_(h);V()}},i(u){if(!o){for(let d=0;d<p.length;d+=1)y(a[d]);o=!0}},o(u){a=a.filter(Boolean);for(let d=0;d<a.length;d+=1)$(a[d]);o=!1},d(u){u&&b(e),j(f,u),j(a,u)}}}function je(t,e,n){let{nodes:r}=e,{columns:l}=e,c={};function i(f){n(2,c=f.detail)}function o(f){L.call(this,t,f)}function s(f){L.call(this,t,f)}return t.$$set=f=>{"nodes"in f&&n(0,r=f.nodes),"columns"in f&&n(1,l=f.columns)},[r,l,c,i,o,s]}class De extends q{constructor(e){super(),G(this,e,je,Re,I,{nodes:0,columns:1})}}class Ie{constructor(e){this._parts=e.split("/"),this._parts[0]===""&&(this._parts[0]="/"),this._parts=this._parts.filter(n=>n!=="")}get parts(){return this._parts}resolve(){const e=[];for(const n of this._parts)if(n!=="."){if(n===".."){e.pop();continue}e.push(n)}return this._parts=e,this}}function Fe(t){let e,n,r,l,c,i,o,s,f,p,a;return i=new Pe({}),i.$on("file-loaded",t[2]),p=new De({props:{nodes:t[0],columns:t[1]}}),{c(){e=g("main"),n=g("a"),n.textContent="Github",r=k(),l=g("p"),l.innerHTML=`Paste in the box bellow the result of:
    <code>nm --line-numbers --print-size --portability path/to/exe.elf</code>`,c=k(),D(i.$$.fragment),o=k(),s=g("br"),f=k(),D(p.$$.fragment),E(n,"href","https://github.com/numaru/zise")},m(_,u){v(_,e,u),m(e,n),m(e,r),m(e,l),m(e,c),A(i,e,null),m(e,o),m(e,s),m(e,f),A(p,e,null),a=!0},p(_,[u]){const d={};u&1&&(d.nodes=_[0]),p.$set(d)},i(_){a||(y(i.$$.fragment,_),y(p.$$.fragment,_),a=!0)},o(_){$(i.$$.fragment,_),$(p.$$.fragment,_),a=!1},d(_){_&&b(e),O(i),O(p)}}}function Ge(t,e,n){let r=[],l=[{field:"name",header:"Name",expander:!0},{field:"rom_size",header:"ROM Size",expander:!1},{field:"ram_size",header:"RAM Size",expander:!1}];const c=function*(){let o=0;for(;;)yield o.toString(),o++}();function i(o){const s=o.detail,f=[];function p(a,_,u){var X,Y;const d="DdRrTtWw".includes(u.type)&&(X=u.size)!=null?X:0,h="BbcDdGgSs".includes(u.type)&&(Y=u.size)!=null?Y:0;let w=a;for(const Z of _){let z=w.find(ye=>ye.data.name===Z);z||(z={key:c.next().value,data:{name:Z,rom_size:0,ram_size:0},children:[]},w.push(z)),z.data.rom_size+=d,z.data.ram_size+=h,w=z.children}w.push({key:c.next().value,data:{name:u.name,rom_size:d,ram_size:h},children:[]})}for(const a of s){let _=[];if(a.location){const[u,d]=a.location.split(":");_=new Ie(u).resolve().parts}else _.push("Unknown");p(f,_,a)}n(0,r=f)}return[r,l,i]}class qe extends q{constructor(e){super(),G(this,e,Ge,Fe,I,{})}}new qe({target:document.getElementById("app")});
