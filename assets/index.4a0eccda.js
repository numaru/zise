const ye=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const f of n)if(f.type==="childList")for(const i of f.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function l(n){const f={};return n.integrity&&(f.integrity=n.integrity),n.referrerpolicy&&(f.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?f.credentials="include":n.crossorigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(n){if(n.ep)return;n.ep=!0;const f=l(n);fetch(n.href,f)}};ye();function M(){}function he(t){return t()}function Z(){return Object.create(null)}function O(t){t.forEach(he)}function $e(t){return typeof t=="function"}function I(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function ke(t){return Object.keys(t).length===0}function _(t,e){t.appendChild(e)}function $(t,e,l){t.insertBefore(e,l||null)}function g(t){t.parentNode.removeChild(t)}function j(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function p(t){return document.createElement(t)}function z(t){return document.createTextNode(t)}function v(){return z(" ")}function Q(){return z("")}function me(t,e,l,r){return t.addEventListener(e,l,r),()=>t.removeEventListener(e,l,r)}function ve(t){return function(e){return e.preventDefault(),t.call(this,e)}}function we(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function C(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}function Ee(t){return Array.from(t.childNodes)}function R(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function ze(t,e,{bubbles:l=!1,cancelable:r=!1}={}){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,l,r,e),n}let K;function T(t){K=t}function Ne(){if(!K)throw new Error("Function called outside component initialization");return K}function _e(){const t=Ne();return(e,l,{cancelable:r=!1}={})=>{const n=t.$$.callbacks[e];if(n){const f=ze(e,l,{cancelable:r});return n.slice().forEach(i=>{i.call(t,f)}),!f.defaultPrevented}return!0}}function x(t,e){const l=t.$$.callbacks[e.type];l&&l.slice().forEach(r=>r.call(this,e))}const N=[],ee=[],P=[],te=[],Te=Promise.resolve();let J=!1;function xe(){J||(J=!0,Te.then(pe))}function U(t){P.push(t)}const H=new Set;let S=0;function pe(){const t=K;do{for(;S<N.length;){const e=N[S];S++,T(e),Ke(e.$$)}for(T(null),N.length=0,S=0;ee.length;)ee.pop()();for(let e=0;e<P.length;e+=1){const l=P[e];H.has(l)||(H.add(l),l())}P.length=0}while(N.length);for(;te.length;)te.pop()();J=!1,H.clear(),T(t)}function Ke(t){if(t.fragment!==null){t.update(),O(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(U)}}const B=new Set;let w;function V(){w={r:0,c:[],p:w}}function W(){w.r||O(w.c),w=w.p}function b(t,e){t&&t.i&&(B.delete(t),t.i(e))}function k(t,e,l,r){if(t&&t.o){if(B.has(t))return;B.add(t),w.c.push(()=>{B.delete(t),r&&(l&&t.d(1),r())}),t.o(e)}}function D(t){t&&t.c()}function L(t,e,l,r){const{fragment:n,on_mount:f,on_destroy:i,after_update:c}=t.$$;n&&n.m(e,l),r||U(()=>{const o=f.map(he).filter($e);i?i.push(...o):O(o),t.$$.on_mount=[]}),c.forEach(U)}function A(t,e){const l=t.$$;l.fragment!==null&&(O(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function Le(t,e){t.$$.dirty[0]===-1&&(N.push(t),xe(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function F(t,e,l,r,n,f,i,c=[-1]){const o=K;T(t);const s=t.$$={fragment:null,ctx:null,props:f,update:M,not_equal:n,bound:Z(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(o?o.$$.context:[])),callbacks:Z(),dirty:c,skip_bound:!1,root:e.target||o.$$.root};i&&i(s.root);let u=!1;if(s.ctx=l?l(t,e.props||{},(h,d,...m)=>{const a=m.length?m[0]:d;return s.ctx&&n(s.ctx[h],s.ctx[h]=a)&&(!s.skip_bound&&s.bound[h]&&s.bound[h](a),u&&Le(t,h)),d}):[],s.update(),u=!0,O(s.before_update),s.fragment=r?r(s.ctx):!1,e.target){if(e.hydrate){const h=Ee(e.target);s.fragment&&s.fragment.l(h),h.forEach(g)}else s.fragment&&s.fragment.c();e.intro&&b(t.$$.fragment),L(t,e.target,e.anchor,e.customElement),pe()}T(o)}class G{$destroy(){A(this,1),this.$destroy=M}$on(e,l){const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(l),()=>{const n=r.indexOf(l);n!==-1&&r.splice(n,1)}}$set(e){this.$$set&&!ke(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Ae(t){const e=t.split(`
`).filter(n=>n).map(n=>n.split(" ").filter(f=>f));let l=e.find(n=>n.length>5);if(l)throw`A line has too much tokens '${l}'`;const r=e.map(n=>({name:n[0],type:n[1],address:n[2]==null?n[2]:Number.parseInt(n[2],16),size:n[3]==null?n[3]:Number.parseInt(n[3],16),location:n[4]}));if(l=r.find(n=>n.type==null||n.type.length>1),l)throw`A invalid symbol type as been found '${JSON.stringify(l)}'`;return r}function ne(t){let e,l;return{c(){e=p("div"),l=z(t[0])},m(r,n){$(r,e,n),_(e,l)},p(r,n){n&1&&R(l,r[0])},d(r){r&&g(e)}}}function Oe(t){let e,l,r,n,f,i=t[0]&&ne(t);return{c(){e=p("textarea"),l=v(),i&&i.c(),r=Q()},m(c,o){$(c,e,o),$(c,l,o),i&&i.m(c,o),$(c,r,o),n||(f=me(e,"input",t[1]),n=!0)},p(c,[o]){c[0]?i?i.p(c,o):(i=ne(c),i.c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null)},i:M,o:M,d(c){c&&g(e),c&&g(l),i&&i.d(c),c&&g(r),n=!1,f()}}}function Se(t,e,l){let r=null;const n=_e();function f(i){l(0,r=null);try{const c=Ae(i.target.value);n("file-loaded",c)}catch(c){l(0,r=c)}}return[r,f]}class Ce extends G{constructor(e){super(),F(this,e,Se,Oe,I,{})}}function le(t,e,l){const r=t.slice();return r[11]=e[l],r}function re(t,e,l){const r=t.slice();return r[14]=e[l],r}function oe(t){let e,l=t[4]?"-":"+",r,n,f;return{c(){e=p("button"),r=z(l),C(e,"type","button"),C(e,"style",t[5])},m(i,c){$(i,e,c),_(e,r),n||(f=me(e,"click",we(ve(t[6]))),n=!0)},p(i,c){c&16&&l!==(l=i[4]?"-":"+")&&R(r,l),c&32&&C(e,"style",i[5])},d(i){i&&g(e),n=!1,f()}}}function ie(t){let e,l,r,n=t[0].data[t[14].field]+"",f,i,c=t[14].expander&&oe(t);return{c(){e=p("td"),c&&c.c(),l=v(),r=p("span"),f=z(n),i=v()},m(o,s){$(o,e,s),c&&c.m(e,null),_(e,l),_(e,r),_(r,f),_(e,i)},p(o,s){o[14].expander?c?c.p(o,s):(c=oe(o),c.c(),c.m(e,l)):c&&(c.d(1),c=null),s&3&&n!==(n=o[0].data[o[14].field]+"")&&R(f,n)},d(o){o&&g(e),c&&c.d()}}}function ce(t){let e,l,r=t[0].children,n=[];for(let i=0;i<r.length;i+=1)n[i]=fe(le(t,r,i));const f=i=>k(n[i],1,1,()=>{n[i]=null});return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=Q()},m(i,c){for(let o=0;o<n.length;o+=1)n[o].m(i,c);$(i,e,c),l=!0},p(i,c){if(c&15){r=i[0].children;let o;for(o=0;o<r.length;o+=1){const s=le(i,r,o);n[o]?(n[o].p(s,c),b(n[o],1)):(n[o]=fe(s),n[o].c(),b(n[o],1),n[o].m(e.parentNode,e))}for(V(),o=r.length;o<n.length;o+=1)f(o);W()}},i(i){if(!l){for(let c=0;c<r.length;c+=1)b(n[c]);l=!0}},o(i){n=n.filter(Boolean);for(let c=0;c<n.length;c+=1)k(n[c]);l=!1},d(i){j(n,i),i&&g(e)}}}function fe(t){let e,l;return e=new ge({props:{node:t[11],columns:t[1],expandedKeys:t[2],level:t[3]+1}}),e.$on("toogle",t[7]),e.$on("expand",t[8]),e.$on("collapse",t[9]),{c(){D(e.$$.fragment)},m(r,n){L(e,r,n),l=!0},p(r,n){const f={};n&1&&(f.node=r[11]),n&2&&(f.columns=r[1]),n&4&&(f.expandedKeys=r[2]),n&8&&(f.level=r[3]+1),e.$set(f)},i(r){l||(b(e.$$.fragment,r),l=!0)},o(r){k(e.$$.fragment,r),l=!1},d(r){A(e,r)}}}function Pe(t){let e,l,r,n,f=t[1],i=[];for(let o=0;o<f.length;o+=1)i[o]=ie(re(t,f,o));let c=t[4]&&t[0].children&&ce(t);return{c(){e=p("tr");for(let o=0;o<i.length;o+=1)i[o].c();l=v(),c&&c.c(),r=Q()},m(o,s){$(o,e,s);for(let u=0;u<i.length;u+=1)i[u].m(e,null);$(o,l,s),c&&c.m(o,s),$(o,r,s),n=!0},p(o,[s]){if(s&115){f=o[1];let u;for(u=0;u<f.length;u+=1){const h=re(o,f,u);i[u]?i[u].p(h,s):(i[u]=ie(h),i[u].c(),i[u].m(e,null))}for(;u<i.length;u+=1)i[u].d(1);i.length=f.length}o[4]&&o[0].children?c?(c.p(o,s),s&17&&b(c,1)):(c=ce(o),c.c(),b(c,1),c.m(r.parentNode,r)):c&&(V(),k(c,1,1,()=>{c=null}),W())},i(o){n||(b(c),n=!0)},o(o){k(c),n=!1},d(o){o&&g(e),j(i,o),o&&g(l),c&&c.d(o),o&&g(r)}}}function Be(t,e,l){let r,n,{node:f}=e,{columns:i}=e,{expandedKeys:c}=e,{level:o=0}=e;const s=_e();function u(){if(r){let y={...c};delete y[f.key],s("toogle",y),s("expand",f);return}let a=c?{...c}:{};a[f.key]=!0,s("toogle",a),s("collapse",f)}function h(a){x.call(this,t,a)}function d(a){x.call(this,t,a)}function m(a){x.call(this,t,a)}return t.$$set=a=>{"node"in a&&l(0,f=a.node),"columns"in a&&l(1,i=a.columns),"expandedKeys"in a&&l(2,c=a.expandedKeys),"level"in a&&l(3,o=a.level)},t.$$.update=()=>{t.$$.dirty&5&&l(4,r=c?c[f.key]!==void 0:!1),t.$$.dirty&9&&l(5,n=`margin-left: ${o*16}px; visibility: ${f.children&&f.children.length?"visible":"hidden"};`)},[f,i,c,o,r,n,u,h,d,m]}class ge extends G{constructor(e){super(),F(this,e,Be,Pe,I,{node:0,columns:1,expandedKeys:2,level:3})}}function se(t,e,l){const r=t.slice();return r[6]=e[l],r}function ue(t,e,l){const r=t.slice();return r[9]=e[l],r}function ae(t){let e,l=t[9].header+"",r;return{c(){e=p("th"),r=z(l)},m(n,f){$(n,e,f),_(e,r)},p(n,f){f&2&&l!==(l=n[9].header+"")&&R(r,l)},d(n){n&&g(e)}}}function de(t){let e,l;return e=new ge({props:{node:t[6],columns:t[1],expandedKeys:t[2]}}),e.$on("toogle",t[3]),e.$on("expand",t[4]),e.$on("collapse",t[5]),{c(){D(e.$$.fragment)},m(r,n){L(e,r,n),l=!0},p(r,n){const f={};n&1&&(f.node=r[6]),n&2&&(f.columns=r[1]),n&4&&(f.expandedKeys=r[2]),e.$set(f)},i(r){l||(b(e.$$.fragment,r),l=!0)},o(r){k(e.$$.fragment,r),l=!1},d(r){A(e,r)}}}function Me(t){let e,l,r,n,f,i,c=t[1],o=[];for(let d=0;d<c.length;d+=1)o[d]=ae(ue(t,c,d));let s=t[0],u=[];for(let d=0;d<s.length;d+=1)u[d]=de(se(t,s,d));const h=d=>k(u[d],1,1,()=>{u[d]=null});return{c(){e=p("table"),l=p("thead"),r=p("tr");for(let d=0;d<o.length;d+=1)o[d].c();n=v(),f=p("tbody");for(let d=0;d<u.length;d+=1)u[d].c()},m(d,m){$(d,e,m),_(e,l),_(l,r);for(let a=0;a<o.length;a+=1)o[a].m(r,null);_(e,n),_(e,f);for(let a=0;a<u.length;a+=1)u[a].m(f,null);i=!0},p(d,[m]){if(m&2){c=d[1];let a;for(a=0;a<c.length;a+=1){const y=ue(d,c,a);o[a]?o[a].p(y,m):(o[a]=ae(y),o[a].c(),o[a].m(r,null))}for(;a<o.length;a+=1)o[a].d(1);o.length=c.length}if(m&15){s=d[0];let a;for(a=0;a<s.length;a+=1){const y=se(d,s,a);u[a]?(u[a].p(y,m),b(u[a],1)):(u[a]=de(y),u[a].c(),b(u[a],1),u[a].m(f,null))}for(V(),a=s.length;a<u.length;a+=1)h(a);W()}},i(d){if(!i){for(let m=0;m<s.length;m+=1)b(u[m]);i=!0}},o(d){u=u.filter(Boolean);for(let m=0;m<u.length;m+=1)k(u[m]);i=!1},d(d){d&&g(e),j(o,d),j(u,d)}}}function je(t,e,l){let{nodes:r}=e,{columns:n}=e,f={};function i(s){l(2,f=s.detail)}function c(s){x.call(this,t,s)}function o(s){x.call(this,t,s)}return t.$$set=s=>{"nodes"in s&&l(0,r=s.nodes),"columns"in s&&l(1,n=s.columns)},[r,n,f,i,c,o]}class De extends G{constructor(e){super(),F(this,e,je,Me,I,{nodes:0,columns:1})}}class Ie{constructor(e){this.string=e}get parts(){const e=this.string.split("/");return e[0]===""&&(e[0]="/"),e.filter(l=>l!=="."&&l!=="")}}function Re(t){let e,l,r,n,f,i,c,o,s;return i=new Ce({}),i.$on("file-loaded",t[2]),o=new De({props:{nodes:t[0],columns:t[1]}}),{c(){e=p("main"),l=p("a"),l.textContent="Github",r=v(),n=p("div"),n.innerHTML=`Paste in the box bellow the result of:
    <code>nm --line-numbers --print-size --portability path/to/exe.elf</code>`,f=v(),D(i.$$.fragment),c=v(),D(o.$$.fragment),C(l,"href","https://github.com/numaru/zise")},m(u,h){$(u,e,h),_(e,l),_(e,r),_(e,n),_(e,f),L(i,e,null),_(e,c),L(o,e,null),s=!0},p(u,[h]){const d={};h&1&&(d.nodes=u[0]),o.$set(d)},i(u){s||(b(i.$$.fragment,u),b(o.$$.fragment,u),s=!0)},o(u){k(i.$$.fragment,u),k(o.$$.fragment,u),s=!1},d(u){u&&g(e),A(i),A(o)}}}function Fe(t,e,l){let r=[],n=[{field:"name",header:"Name",expander:!0},{field:"rom_size",header:"ROM Size",expander:!1},{field:"ram_size",header:"RAM Size",expander:!1}];function f(i){const c=i.detail,o=[];function s(u,h,d){var X,Y;const m="DdRrTt".includes(d.type)&&(X=d.size)!=null?X:0,a="BbcDdGgSs".includes(d.type)&&(Y=d.size)!=null?Y:0;let y=u;for(const q of h){let E=y.find(be=>be.key===q);E||(E={key:q,data:{name:q,rom_size:0,ram_size:0},children:[]},y.push(E)),E.data.rom_size+=m,E.data.ram_size+=a,y=E.children}y.push({key:d.name,data:{name:d.name,rom_size:m,ram_size:a},children:[]})}for(const u of c){let h=[];if(u.location){const[d,m]=u.location.split(":");h=new Ie(d).parts}else h.push("Unknown");s(o,h,u)}l(0,r=o)}return[r,n,f]}class Ge extends G{constructor(e){super(),F(this,e,Fe,Re,I,{})}}new Ge({target:document.getElementById("app")});
